<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 580">
  <defs>
    <linearGradient id="inboundGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea"/>
      <stop offset="100%" style="stop-color:#5a67d8"/>
    </linearGradient>
    <linearGradient id="appGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ed8936"/>
      <stop offset="100%" style="stop-color:#dd6b20"/>
    </linearGradient>
    <linearGradient id="domainGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#48bb78"/>
      <stop offset="100%" style="stop-color:#38a169"/>
    </linearGradient>
    <linearGradient id="outboundGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9f7aea"/>
      <stop offset="100%" style="stop-color:#805ad5"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="750" height="580" fill="#1a202c"/>

  <!-- INBOUND ADAPTERS -->
  <rect x="30" y="20" width="690" height="90" rx="8" fill="#2d3748" stroke="#667eea" stroke-width="2"/>
  <rect x="30" y="20" width="690" height="30" rx="8" fill="url(#inboundGrad)"/>
  <rect x="30" y="40" width="690" height="10" fill="url(#inboundGrad)"/>
  <text x="375" y="42" fill="white" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle">INBOUND ADAPTERS (driving adapters)</text>

  <!-- Inbound boxes -->
  <rect x="50" y="60" width="150" height="35" rx="4" fill="#4a5568" stroke="#667eea" stroke-width="1"/>
  <text x="125" y="82" fill="white" font-family="monospace" font-size="10" text-anchor="middle">tcp_server.rs</text>

  <rect x="210" y="60" width="150" height="35" rx="4" fill="#4a5568" stroke="#667eea" stroke-width="1"/>
  <text x="285" y="82" fill="white" font-family="monospace" font-size="10" text-anchor="middle">tls_server.rs</text>

  <rect x="370" y="60" width="150" height="35" rx="4" fill="#4a5568" stroke="#667eea" stroke-width="1"/>
  <text x="445" y="82" fill="white" font-family="monospace" font-size="10" text-anchor="middle">api_server.rs</text>

  <rect x="530" y="60" width="150" height="35" rx="4" fill="#4a5568" stroke="#667eea" stroke-width="1"/>
  <text x="605" y="82" fill="white" font-family="monospace" font-size="10" text-anchor="middle">dns_server.rs</text>

  <!-- Arrow down -->
  <line x1="375" y1="110" x2="375" y2="135" stroke="#a0aec0" stroke-width="2"/>
  <polygon points="375,140 370,130 380,130" fill="#a0aec0"/>

  <!-- APPLICATION -->
  <rect x="30" y="145" width="690" height="80" rx="8" fill="#2d3748" stroke="#ed8936" stroke-width="2"/>
  <rect x="30" y="145" width="690" height="30" rx="8" fill="url(#appGrad)"/>
  <rect x="30" y="165" width="690" height="10" fill="url(#appGrad)"/>
  <text x="375" y="167" fill="white" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle">APPLICATION (orchestration / use cases)</text>

  <rect x="200" y="185" width="350" height="30" rx="4" fill="#4a5568" stroke="#ed8936" stroke-width="1"/>
  <text x="375" y="205" fill="white" font-family="monospace" font-size="11" text-anchor="middle">ProxyService - resolves backend, manages bindings</text>

  <!-- Arrow down -->
  <line x1="375" y1="225" x2="375" y2="250" stroke="#a0aec0" stroke-width="2"/>
  <polygon points="375,255 370,245 380,245" fill="#a0aec0"/>

  <!-- DOMAIN -->
  <rect x="30" y="260" width="690" height="170" rx="8" fill="#2d3748" stroke="#48bb78" stroke-width="2"/>
  <rect x="30" y="260" width="690" height="30" rx="8" fill="url(#domainGrad)"/>
  <rect x="30" y="280" width="690" height="10" fill="url(#domainGrad)"/>
  <text x="375" y="282" fill="white" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle">DOMAIN (pure business rules - ZERO external deps)</text>

  <!-- Domain entities -->
  <rect x="50" y="300" width="140" height="70" rx="4" fill="#4a5568" stroke="#48bb78" stroke-width="1"/>
  <text x="120" y="320" fill="#48bb78" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle">entities</text>
  <text x="120" y="338" fill="#a0aec0" font-family="monospace" font-size="9" text-anchor="middle">- Backend</text>
  <text x="120" y="352" fill="#a0aec0" font-family="monospace" font-size="9" text-anchor="middle">- Binding</text>
  <text x="120" y="366" fill="#a0aec0" font-family="monospace" font-size="9" text-anchor="middle">- ClientKey</text>

  <!-- Domain value objects -->
  <rect x="210" y="300" width="140" height="70" rx="4" fill="#4a5568" stroke="#48bb78" stroke-width="1"/>
  <text x="280" y="320" fill="#48bb78" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle">value_objects</text>
  <text x="280" y="345" fill="#a0aec0" font-family="monospace" font-size="9" text-anchor="middle">- RegionCode</text>

  <!-- Domain services -->
  <rect x="370" y="300" width="200" height="70" rx="4" fill="#4a5568" stroke="#48bb78" stroke-width="1"/>
  <text x="470" y="320" fill="#48bb78" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle">services/LoadBalancer</text>
  <text x="470" y="338" fill="#a0aec0" font-family="monospace" font-size="9" text-anchor="middle">- pick_backend()</text>
  <text x="470" y="352" fill="#a0aec0" font-family="monospace" font-size="9" text-anchor="middle">- calculate_geo_score()</text>

  <!-- Ports -->
  <rect x="50" y="380" width="520" height="40" rx="4" fill="#4a5568" stroke="#48bb78" stroke-width="1"/>
  <text x="310" y="397" fill="#48bb78" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle">ports (traits) - interfaces the domain EXPECTS</text>
  <text x="310" y="412" fill="#a0aec0" font-family="monospace" font-size="9" text-anchor="middle">BackendRepository    BindingRepository    GeoResolver    MetricsStore</text>

  <!-- Arrow up (implements) -->
  <line x1="375" y1="430" x2="375" y2="455" stroke="#9f7aea" stroke-width="2"/>
  <polygon points="375,430 370,440 380,440" fill="#9f7aea"/>
  <text x="410" y="448" fill="#9f7aea" font-family="Arial, sans-serif" font-size="10">implements</text>

  <!-- OUTBOUND ADAPTERS -->
  <rect x="30" y="460" width="690" height="100" rx="8" fill="#2d3748" stroke="#9f7aea" stroke-width="2"/>
  <rect x="30" y="460" width="690" height="30" rx="8" fill="url(#outboundGrad)"/>
  <rect x="30" y="480" width="690" height="10" fill="url(#outboundGrad)"/>
  <text x="375" y="482" fill="white" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle">OUTBOUND ADAPTERS (infrastructure / driven adapters)</text>

  <!-- Outbound boxes row 1 -->
  <rect x="50" y="500" width="155" height="25" rx="4" fill="#4a5568" stroke="#9f7aea" stroke-width="1"/>
  <text x="127" y="517" fill="white" font-family="monospace" font-size="9" text-anchor="middle">SqliteBackendRepo</text>

  <rect x="215" y="500" width="155" height="25" rx="4" fill="#4a5568" stroke="#9f7aea" stroke-width="1"/>
  <text x="292" y="517" fill="white" font-family="monospace" font-size="9" text-anchor="middle">DashMapBindingRepo</text>

  <rect x="380" y="500" width="155" height="25" rx="4" fill="#4a5568" stroke="#9f7aea" stroke-width="1"/>
  <text x="457" y="517" fill="white" font-family="monospace" font-size="9" text-anchor="middle">MaxMindGeoResolver</text>

  <rect x="545" y="500" width="155" height="25" rx="4" fill="#4a5568" stroke="#9f7aea" stroke-width="1"/>
  <text x="622" y="517" fill="white" font-family="monospace" font-size="9" text-anchor="middle">DashMapMetricsStore</text>

  <!-- Outbound boxes row 2 -->
  <rect x="50" y="530" width="155" height="25" rx="4" fill="#4a5568" stroke="#9f7aea" stroke-width="1"/>
  <text x="127" y="547" fill="white" font-family="monospace" font-size="9" text-anchor="middle">CorrosionBackendRepo</text>
</svg>
