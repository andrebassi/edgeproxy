<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 320">
  <defs>
    <linearGradient id="headerGradGreen" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#48bb78"/>
      <stop offset="100%" style="stop-color:#38a169"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="700" height="320" fill="#1a202c"/>

  <!-- Main container -->
  <rect x="20" y="20" width="660" height="280" rx="8" fill="#2d3748" stroke="#4a5568" stroke-width="2"/>

  <!-- Header -->
  <rect x="20" y="20" width="660" height="35" rx="8" fill="url(#headerGradGreen)"/>
  <rect x="20" y="45" width="660" height="10" fill="url(#headerGradGreen)"/>
  <text x="350" y="45" fill="white" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle">Data Flow</text>

  <!-- Section 1: Local Mode -->
  <text x="50" y="90" fill="#a0aec0" font-family="monospace" font-size="11">EDGEPROXY_CORROSION_ENABLED=false (default)</text>

  <!-- edgeProxy box (local) -->
  <rect x="60" y="105" width="120" height="45" rx="6" fill="#2d3748" stroke="#667eea" stroke-width="2"/>
  <text x="120" y="133" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">edgeProxy</text>

  <!-- Arrow -->
  <line x1="180" y1="127" x2="280" y2="127" stroke="#a0aec0" stroke-width="2"/>
  <polygon points="280,127 270,122 270,132" fill="#a0aec0"/>
  <text x="230" y="118" fill="#a0aec0" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">reads</text>

  <!-- routing.db box (local) -->
  <rect x="290" y="105" width="150" height="45" rx="6" fill="#2d3748" stroke="#ed8936" stroke-width="2"/>
  <text x="365" y="128" fill="#ed8936" font-family="monospace" font-size="12" text-anchor="middle">routing.db</text>
  <text x="365" y="143" fill="#a0aec0" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">(local file)</text>

  <!-- Divider line -->
  <line x1="40" y1="170" x2="660" y2="170" stroke="#4a5568" stroke-width="1" stroke-dasharray="5,5"/>

  <!-- Section 2: Corrosion Mode -->
  <text x="50" y="200" fill="#48bb78" font-family="monospace" font-size="11">EDGEPROXY_CORROSION_ENABLED=true</text>

  <!-- edgeProxy box (corrosion) -->
  <rect x="60" y="215" width="120" height="45" rx="6" fill="#2d3748" stroke="#667eea" stroke-width="2"/>
  <text x="120" y="243" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">edgeProxy</text>

  <!-- Arrow to Corrosion -->
  <line x1="180" y1="237" x2="280" y2="237" stroke="#48bb78" stroke-width="2"/>
  <polygon points="280,237 270,232 270,242" fill="#48bb78"/>
  <text x="230" y="228" fill="#48bb78" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">HTTP API</text>

  <!-- Corrosion box -->
  <rect x="290" y="215" width="150" height="45" rx="6" fill="#2d3748" stroke="#48bb78" stroke-width="2"/>
  <text x="365" y="243" fill="#48bb78" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">Corrosion</text>

  <!-- Bi-directional arrow to POPs -->
  <line x1="440" y1="237" x2="540" y2="237" stroke="#48bb78" stroke-width="2"/>
  <polygon points="440,237 450,232 450,242" fill="#48bb78"/>
  <polygon points="540,237 530,232 530,242" fill="#48bb78"/>
  <text x="490" y="228" fill="#48bb78" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">gossip</text>

  <!-- POPs box -->
  <rect x="550" y="215" width="110" height="45" rx="6" fill="#2d3748" stroke="#667eea" stroke-width="2"/>
  <text x="605" y="238" fill="white" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle">Other POPs</text>
  <text x="605" y="253" fill="#a0aec0" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">(replicated)</text>
</svg>
